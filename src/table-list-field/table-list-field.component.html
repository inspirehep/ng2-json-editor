<div [id]="pathString">
  <div>
    <table class="table editable-inner-table">
      <thead class="thead-inverse">
        <tr>
          <th *ngFor="let key of keys | addAlwaysShowFields:schema.items | filterAndSortBySchema:schema.items; trackBy:trackByElement"
            [style.width]="schema.items.properties[key].columnWidth + '%'">
            {{key | underscoreToSpace}}
          </th>
          <th class="button-holder" [ngClass]="sortableClass">
            <add-field-dropdown *ngIf="values.size > 0" [fields]="keys" [pathString]="getElementPathString(0)" (fieldAdd)="onFieldAdd($event)"
              [schema]="schema.items">
              <i class="fa fa-plus"></i>
            </add-field-dropdown>
          </th>
        </tr>
      </thead>
      <tr *ngFor="let value of values; let i = index; trackBy:trackByIndex" table-item-field [id]="getElementPathString(i)" [value]="value"
        [schema]="schema.items" [path]="getElementPath(i)" [keys]="keys">
        <td *ngIf="values.size > 0" class="button-holder" [ngClass]="sortableClass">
          <list-action-group (move)="moveElement(i, $event)" (delete)="deleteElement(i)" [canMove]="schema.sortable"></list-action-group>
        </td>
      </tr>
    </table>
  </div>
</div>